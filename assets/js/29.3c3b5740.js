(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{519:function(e,s,a){"use strict";a.r(s);var n=a(6),t=Object(n.a)({},(function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h2",{attrs:{id:"shell常用命令和基本操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shell常用命令和基本操作"}},[e._v("#")]),e._v(" Shell常用命令和基本操作")]),e._v(" "),a("h3",{attrs:{id:"般操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#般操作"}},[e._v("#")]),e._v(" —般操作")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("查询服务器状态\nhbase(main):0il:0>status\n1 active master,0 backup masters, 1 servers,0 dead,4.0000 average load")])]),e._v(" "),a("li",[a("p",[e._v("查询版本号\nhbase(main):012:0>version\n1.2.1,r8d8a7107dc4ccbf36a92f64675dc60392f85c015,Wed Mar 30 11:19:21 CDT 2016")])])]),e._v(" "),a("h3",{attrs:{id:"ddl-操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ddl-操作"}},[e._v("#")]),e._v(" DDL 操作")]),e._v(" "),a("p",[e._v("数据定义语言（Data Defination Language，DDL）操作主要用来定义、修改和查询表的数据库模式。")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("创建一个表\nhbase(main):013:0>\ncreate'table','column_famaly','column_famaly1','column_famaly2'\n0 row(s) in 94.9160 seconds")])]),e._v(" "),a("li",[a("p",[e._v("列出所有表\nhbase(main):014:0>list\nTABLE\nstu\ntable\ntest\n3 row(s) in 0.0570 seconds")])]),e._v(" "),a("li",[a("p",[e._v("获取表的描述\nhbase(main):015:0> describe'table'\nTable table is ENABLED\ntable\nCOLUMN FAMILIES DESCRIPTION\n{NAME =>'coluran_famaly',DATA_BLOCK_ENCODING =>'NONE',BLOOMFILTER =>'ROW',REPLICATION_SCOPE=>'0',VERSIONS=>'1',COMPRESSION=>'NONE', MIN_VERSIONS =>'0',TTL=>'FOREVER',KEEP_DELETED_CELLS=>'FALSE',BLOCKSIZE=>'65536',IN_MEMORY\n=>'false',BLOCKCACHE=>'true}\n3 row(s) in 0.0430 seconds")])]),e._v(" "),a("li",[a("p",[e._v("删除一个列族\nhbase(main):016:0>alter'table',{NAME=>'column_famaly',METHOD=>'delete'}\nUpdating all regions with the new schema...\n1/1 regions updated.\nDone.\n0 row(s) in 3.0220 seconds")])]),e._v(" "),a("li",[a("p",[e._v("删除一个表\n首先把表设置为 disable。\nhbase(main):020:0>disable'stu'\n0 row(s) in 2.3150 seconds")])])]),e._v(" "),a("p",[e._v("然后删除一个表。\nhbase(main):021:0>drop'stu'\n0 row(s) in 1.2820 seconds")]),e._v(" "),a("ol",{attrs:{start:"6"}},[a("li",[a("p",[e._v("查询表是否存在\nhbase(main):024:0>exists'table'\nTable table does exist\n0 row(s) in 0.0280 seconds")])]),e._v(" "),a("li",[a("p",[e._v("查看表是否可用\nhbase(main):025:0>is_enabled'table'\ntrue\n0 row(s) in 0.0150 seconds")])])]),e._v(" "),a("h3",{attrs:{id:"dml-操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dml-操作"}},[e._v("#")]),e._v(" DML 操作")]),e._v(" "),a("p",[e._v("DML（Data Manipulation Language，数据操作语言）操作主要用来对表的数据进行添加、修改、获取、删除和查询。")]),e._v(" "),a("ol",[a("li",[e._v("插入数据\n给 emp 表的 rw1 行分别插入 3 个列。\nhbase(main):031:0>put'emp','rw1','col_f1:name','tanggao'\n0 row(s) in 0.0460 seconds")])]),e._v(" "),a("p",[e._v("hbase(main):032:0>put'emp','rw1','col_f1:age','20'\n0 row(s) in 0.0150 seconds")]),e._v(" "),a("p",[e._v("hbase(main):033:0>put'emp','rw1','col_f1:sex','boy'\n0 row(s) in 0.0190 seconds")]),e._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[e._v("获取数据\n获取 emp 表的 rw1 行的所有数据。\nhbase(main):034:0> get 'emp','rw1'\nCOLUMN    CELL\ncol_f1:age timestamp=1463055735107,value=20\ncol_f1:name timestamp=1463055709542,value=tanggao\ncol_f1:sex timestamp=1463055753395,value=boy\n3 row(s) in 0.3200 seconds")])]),e._v(" "),a("p",[e._v("获取 emp 表的 rw1 行 col_f1 列族的所有数据。\nhbase(main):035:0>get'emp','rw1','col_f1'\nCOLUMN    CELL"),a("br"),e._v("\ncol_f1:age timestamp=1463055735107,value=20\ncol_f1:name timestamp=1463055709542,value=tanggao col_f1:sex timestamp=1463055753395,value=boy\n3 row(s) in 0.0270 seconds")]),e._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[e._v("更新一条记录\n更新 emp 表的 rw1 行、col_f1 列族中 age 列的值。\nhbase (main):037:0> put 'emp','rw1'col_f1:age','22'\n0 row(s) in 0.0160 seconds")])]),e._v(" "),a("p",[e._v("查看更新的结果。\nhbase(main):038:0>get 'emp','rw1','col_f1:age'\nCOLUMN    CELL"),a("br"),e._v("\ncol_f1:age timestamp=1463055893492,value=22\n1 row(s) in 0.0190 seconds")]),e._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[e._v("通过时间戳获取两个版本的数据\nhbase(main):039:0>get 'emp','rw1',{COLUMN=>'col_f1:age',TIMESTAMP=>1463055735107}\nCOLUMN    CELL\ncol_f1:age timestamp=1463055735107,value=20\n1 row(s) in 0.0340 seconds")])]),e._v(" "),a("p",[e._v("hbase(main):040:0>get 'emp','rw1',{COLUMN=>'col_f1:age',TIMESTAMP=>1463055893492}\nCOLUMN    CELL"),a("br"),e._v("\ncol_f1:age timestamp=1463055893492,value=22\n1 row(s) in 0.0140 seconds")]),e._v(" "),a("ol",{attrs:{start:"5"}},[a("li",[a("p",[e._v("全表扫描\nhbase(main):041:0>scan 'emp'\nROW    COLUMN+CELL\nid    column=col_f1:age,timestamp=1463055893492,value=2\nid    column=col_f1:name,timestamp=1463055709542,value=tanggao\nid    column=col_f1:sex,timestamp=1463055753395,value=boy\n1 row(s) in 0.1520 seconds")])]),e._v(" "),a("li",[a("p",[e._v("删除一列\n删除 emp 表 rw1 行的一个列。\nhbase(main):042:0>delete 'emp','rw1','col_f1:age'\n0 row(s) in 0.0200 seconds")])])]),e._v(" "),a("p",[e._v("检查删除操作的结果。\nhbase(main):043:0>get 'emp','rw1'\nCOLUMN    CELL\ncol_f1:name timestamp=1463.055709542,value=tanggao col_f1:sex timestamp=1463055753395,value=boy\n2 row(s) in 0.2430 seconds")]),e._v(" "),a("ol",{attrs:{start:"7"}},[a("li",[a("p",[e._v("删除行的所有单元格\n使用“deleteall”命令删除 emp 表 rw1 行的所有列。\nhbase(main) :044:0>deleteall 'emp','rw1'\n0 row(s) in 0.0550 seconds")])]),e._v(" "),a("li",[a("p",[e._v("统计表中的行数\nhbase(main):045:0>count 'emp'\n0 row(s) in 0.0450 seconds")])]),e._v(" "),a("li",[a("p",[e._v("清空整张表\nhbase(main):007:0>truncate'emp'\nTruncating 'emp' table(it may take a while);\n-Disabling table...\n-Truncating table...\n0 row(s) in 4.1510 seconds")])])]),e._v(" "),a("h3",{attrs:{id:"hbase-表实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hbase-表实例"}},[e._v("#")]),e._v(" HBase 表实例")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("建立一个表 scores，包含两个列族：grade 和 course\nhbase(main):001:0> create 'scores','grade','course'")])]),e._v(" "),a("li",[a("p",[e._v("按设计的表结构添加值\nput'scores','Jim1','grade:'1'\nput'scores','Jim','course:Chinese','90'\nput'scores','Jim','course:math','85'\nput'scores','Jim','course:english','85'\nput'scores','Tom','grade:','2'\nput'scores','Tom','course:Chinese','97'\nput'scores','Tom','course:math','100'\nput'scores','Tom','course:english','92'")])])]),e._v(" "),a("p",[e._v("样表结构就建立起来了，列族里边可以自由添加子列。如果列族下没有子列，则只加“:”即可。\n3. 根据键值查询数据\n查看 scores 表中的 Jim 行的相关数据。\nhbase(main):012:0>get 'scores','Jim'")]),e._v(" "),a("p",[e._v("查看 scores 表中 Jim 行、course 列族中 math 列的值。\nhbase(main):012:0>get 'scores','Jim','course:math'")]),e._v(" "),a("p",[e._v("或者用以下代码。\nhbase(main):012:0>get 'scores','Jim',{COLUMN=>'course:math'}")]),e._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[e._v("扫描所有数据\nhbase(main):012:0>scan 'scores'")])]),e._v(" "),a("p",[e._v("上述命令会显示所有数据行，也就是 Tom 和 Jim 的所有课程的成绩，包括 chinese、math 和 english。")]),e._v(" "),a("p",[e._v("为了限制返回的结果，用户可以指定一些修饰词，如 TIMERANGE、FILTER、LIMIT、STARTROW、STOPROW、TIMESTAMP、MAXLENGTH 或 COLUMN。")]),e._v(" "),a("p",[e._v("获取 Jim 和 Tom 的 english 的成绩。\nscan'scores',{COLUMN=>'course:english',STARTROW=>Jim,ENDROW=Tom}")]),e._v(" "),a("ol",{attrs:{start:"5"}},[a("li",[e._v("添加新的列\n为 Tom 添加 computing 课程的成绩。\nhbase(main):012:0>put'scores','Tom','course:computing','90'")])])])}),[],!1,null,null,null);s.default=t.exports}}]);