(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{517:function(e,r,a){"use strict";a.r(r);var o=a(6),s=Object(o.a)({},(function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h2",{attrs:{id:"hbase主要运行机制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hbase主要运行机制"}},[e._v("#")]),e._v(" HBase主要运行机制")]),e._v(" "),a("h3",{attrs:{id:"hbase-的逻辑架构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hbase-的逻辑架构"}},[e._v("#")]),e._v(" HBase 的逻辑架构")]),e._v(" "),a("p",[e._v("在分布式的生产环境中，HBase 需要运行在 HDFS 之上，以 HDFS 作为其基础的存储设施。\nHBase 的上层是访问数据的 Java API 层，供应用访问存储在 HBase 中的数据。\nHBase 的集群主要由 Master、Region Server 和 Zookeeper 组成，具体模块如图\n"),a("img",{attrs:{src:"http://c.biancheng.net/uploads/allimg/190510/5-1Z510094235101.gif",alt:"RUNOOB 图标"}})]),e._v(" "),a("p",[e._v("1）Master\nMaster 主要负责表和 Region 的管理工作。")]),e._v(" "),a("p",[e._v("表的管理工作主要是负责完成增加表、删除表、修改表和查询表等操作。")]),e._v(" "),a("p",[e._v("Region 的管理工作更复杂一些，Master 需要负责分配 Region 给 Region Server，协调多个 Region Server，检测各个 Region Server 的状态，并平衡 Region Server 之间的负载。")]),e._v(" "),a("p",[e._v("当 Region 分裂或合并之后，Master 负责重新调整 Region 的布局。如果某个 Region Server 发生故障，Master 需要负责把故障 Region Server 上的 Region 迁移到其他 Region Server 上。")]),e._v(" "),a("p",[e._v("HBase 允许多个 Master 结点共存，但是这需要 Zookeeper 进行协调。当多个 Master 结点共存时，只有一个 Master 是提供服务的，其他的 Master 结点处于待命的状态。当正在工作的 Master 结点宕机时，其他的 Master 则会接管 HBase 的集群。\n2）RegionServer\nHBase 有许多个 Region Server，每个 Region Server 又包含多个 Region。Region Server 是 HBase 最核心的模块，负责维护 Master 分配给它的 Region 集合，并处理对这些 Region 的读写操作。Client 直接与 Region Server 连接，并经过通信获取 HBase 中的数据。")]),e._v(" "),a("p",[e._v("HBase 釆用 HDFS 作为底层存储文件系统，Region Server 需要向 HDFS 写入数据，并利用 HDFS 提供可靠稳定的数据存储。Region Server 并不需要提供数据复制和维护数据副本的功能。\n3）Zookeeper\nZookeeper 的作用对 HBase 很重要。首先，Zookeeper 是 HBase Master 的高可用性（High Available，HA）解决方案。也就是说，Zookeeper 保证了至少有一个 HBase Master 处于运行状态。")]),e._v(" "),a("p",[e._v("Zookeeper 同时负责 Region 和 Region Server 的注册。HBase 集群的 Master 是整个集群的管理者，它必须知道每个 Region Server 的状态。")]),e._v(" "),a("p",[e._v("HBase 就是使用 Zookeeper 来管理 Region Server 状态的。每个 Region Server 都向 Zookeeper 注册，由 Zookeeper 实时监控每个 Region Server 的状态，并通知给 Master。这样，Master 就可以通过 Zookeeper 随时感知各个 Region Server 的工作状态。")])])}),[],!1,null,null,null);r.default=s.exports}}]);