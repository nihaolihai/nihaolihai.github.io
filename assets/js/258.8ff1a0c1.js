(window.webpackJsonp=window.webpackJsonp||[]).push([[258],{747:function(e,t,n){"use strict";n.r(t);var s=n(6),r=Object(s.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":this.$parent.slotKey}},[t("h2",{attrs:{id:"mybatis动态sql之foreach标签"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mybatis动态sql之foreach标签"}},[this._v("#")]),this._v(" MyBatis动态sql之foreach标签")]),this._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('<foreach> 元素主要用在构建 in 条件中，它可以在 SQL 语句中迭代一个集合。\n\n<foreach> 元素的属性主要有 item、index、collection、open、separator、close。\nitem 表示集合中每一个元素进行迭代时的别名。\nindex 指定一个名字，用于表示在迭代过程中每次迭代到的位置。\nopen 表示该语句以什么开始。\nseparator 表示在每次进行迭代之间以什么符号作为分隔符。\nclose 表示以什么结束。\n\n在使用 <foreach> 元素时，最关键、最容易出错的是 collection 属性，该属性是必选的，但在不同情况下该属性的值是不一样的，主要有以下 3 种情况：\n如果传入的是单参数且参数类型是一个 List，collection 属性值为 list。\n如果传入的是单参数且参数类型是一个 array 数组，collection 的属性值为 array。\n如果传入的参数是多个，需要把它们封装成一个 Map，当然单参数也可以封装成 Map。Map 的 key 是参数名，collection 属性值是传入的 List 或 array 对象在自己封装的 Map 中的 key。\n\n在 myBatisDemo03 应用中测试 <foreach> 元素，具体过程如下：\n1）添加 SQL 映射语句\n在 com.mybatis 包的 UserMapper.xml 文件中添加如下 SQL 映射语句：\n\x3c!--使用foreach元素查询用户信息--\x3e\n<select id="selectUserByForeach" resultType="com.po.MyUser" parameterType=\n"List">\n    select * from user where uid in\n    <foreach item="item" index="index" collection="list"\n    open="(" separator="," close=")">\n        # {item}\n    </foreach>\n</select>\n2）添加数据操作接口方法\n在 com.dao 包的 UserDao 接口中添加如下数据操作接口方法：\npublic List<MyUser> selectUserByForeach(List<Integer> listId);\n\n3）调用数据操作接口方法\n在 com.controller 包的 UserController 类中添加如下程序调用数据操作接口方法。\n//使用foreach元素查询用户信息\nList<Integer> listId=new ArrayList<Integer>();\nlistId.add(34);\nlistId.add(37);\nList<MyUser> listByForeach = userDao.selectUserByForeach(listId);\nSystem.out.println ("foreach元素================");\nfor(MyUser myUser : listByForeach) {\n    System.out.println(myUser);\n}\n4）测试动态 SQL 语句\n运行 com.controller 包中的 TestController 主类，测试动态 SQL 语句。\n\n')])])])])}),[],!1,null,null,null);t.default=r.exports}}]);